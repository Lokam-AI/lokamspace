{
  "version": "1.0",
  "description": "Call transcript analysis prompt templates for different analysis approaches",
  "prompts": {
    "1": {
      "name": "OpenAI Service Original",
      "description": "Exact prompt from openai_service.py - comprehensive analysis with real transcript examples",
      "template": "\n```\n\n## --- ROLE DEFINITION ---\n\nYou are a highly capable AI specializing in **call transcript analysis** and **customer sentiment extraction** for service-oriented businesses. Your task is to produce **valid JSON** that adheres **exactly** to the provided schema.\n\n## --- AVAILABLE INPUTS ---\n\nYou are given three structured data blocks:\n\n1. **Call Transcript** (Role-tagged customer conversation):\n\n```\n{formatted_transcript}\n```\n\n2. **Service Record Info** (Prior records and interactions in JSON format):\n\n```json\n{service_record_json}\n```\n\n3. **Organization Info** (Company profile in JSON):\n\n```json\n{organization_json}\n```\n\n4. **Focus Tags** (aspects to analyze):\n\n```\n{formatted_tags}\n```\n\n---\n\n## --- TASK OBJECTIVE ---\n\nYour goal is to analyze the **customer conversation** and extract structured insights in JSON based on the schema provided.\n\n---\n\n## --- INTERNAL REASONING STEPS (Chain-of-Thought) ---\n\n1. **Summarize the Call Outcome in One Sentence**\n\n   * Focus on the customer's final sentiment and the resolution status.\n\n2. **Infer NPS Score (0–10):**\n\n   * If a score is explicitly stated (e.g., \"I'd give it an 8\"), extract it as-is.\n   * If implied (\"Fantastic service!\"), interpret reasonably:\n\n     * Highly positive (9–10), somewhat positive (7–8), neutral (4–6), negative (0–3).\n   * If unclear or uncertain, return `null`.\n\n3. **Summarize Overall Feedback (1–2 lines):**\n\n   * Reflect the **emotional tone** and **general experience** of the customer.\n\n4. **Classify Each Focus Tag:**\n\n   * If tag is clearly mentioned **positively**, add to `\"positive_mentions\"`.\n   * If mentioned **negatively**, add to `\"detractors\"`.\n   * If ambiguous or not mentioned, exclude from both lists.\n\n---\n\n## --- FEW-SHOT EXAMPLES ---\n\n### Example A:\n\n**Transcript:**\nassistant: \"Hi there. Hope you're doing well. This is Luke from Garage 25. Now a good time to talk?\"\nhuman: \"Yep. Good time to talk.\"\nassistant: \"Great. I just wanted to check-in and see how your recent oil change service experience was for you.\"\nhuman: \"It was good. Thanks for asking.\"\nassistant: \"Thanks for sharing that. Always nice to hear. Just 1 last question. On a scale of 0 to 10, 0 is not at all likely and 10 is extremely likely, how likely are you to recommend garage 25 to a friend or colleague?\"\nhuman: \"9.\"\n**Tags:** `Improve Advisor Communication, Enhance Customer Experience, Reduce Wait Time, Increase Service Transparency`\n\n**Output:**\n\n```json\n{{\n  \"call_summary\": \"Customer had a positive experience with the oil change service and gave a high recommendation score.\",\n  \"nps_score\": 9,\n  \"overall_feedback\": \"Customer was satisfied with the service and willing to recommend to others, indicating efficient service delivery.\",\n  \"positive_mentions\": [\"Enhance Customer Experience\", \"Reduce Wait Time\"],\n  \"detractors\": [\"Increase Service Transparency\"]\n}}\n```\n\n### Example B:\n\n**Transcript:**\nassistant: \"Awesome. I just wanted to quickly check-in on your recent oil change with us. How was the overall service experience for you?\"\nhuman: \"It was alright. You could have improved the timing.\"\nassistant: \"Thanks for sharing that. I appreciate your honesty. Just to understand how you feel overall. On a scale of 0 to 10, 0 is not at all likely, and 10 is extremely likely, likely are you to recommend Garage 25 to a friend or colleague?\"\nhuman: \"I'll give you the 8.\"\nhuman: \"Time. Time. Timing.\"\n**Tags:** `Reduce Wait Time, Improve Advisor Communication, Enhance Customer Experience`\n\n**Output:**\n\n```json\n{{\n  \"call_summary\": \"Customer reported adequate service but highlighted timing issues with the oil change.\",\n  \"nps_score\": 8,\n  \"overall_feedback\": \"Customer felt the service was good overall but was dissatisfied with the wait time and emphasized this concern repeatedly.\",\n  \"positive_mentions\": [\"Enhance Customer Experience\", \"Improve Advisor Communication\"],\n  \"detractors\": [\"Reduce Wait Time\"]\n}}\n```\n\n### Example C:\n\n**Transcript:**\nassistant: \"Great. Thanks. I'm just following up quickly about recent oil change service. Was the entire service experience for you?\"\nhuman: \"It's good. Thanks for asking.\"\nassistant: \"Thanks for sharing that. Always nice to hear. Just 1 last question. On a scale of 0 to 10, where 0 is not at all likely, and 10 is extremely likely, likely are you to recommend garage 25 to a friend or colleague?\"\nhuman: \"7?\"\nassistant: \"Got it. A 7. Appreciate that. What do you think could have improved your experience to push that score closer to a 10?\"\nhuman: \"Maybe you can have you know, better communication because it was not communicated very well with me when to come and when to go.\"\n**Tags:** `Improve Advisor Communication, Enhance Customer Experience, Streamline Booking Process`\n\n**Output:**\n\n```json\n{{\n  \"call_summary\": \"Customer was satisfied with service but identified communication issues regarding timing.\",\n  \"nps_score\": 7,\n  \"overall_feedback\": \"Customer had a generally positive experience but expressed frustration about unclear communication regarding appointment scheduling and workflow.\",\n  \"positive_mentions\": [\"Enhance Customer Experience\"],\n  \"detractors\": [\"Improve Advisor Communication\", \"Streamline Booking Process\"]\n}}\n```\n\n### Example D:\n\n**Transcript:**\nassistant: \"I was referring to the engine diagnosis service you recently had at garage 25. Just wanted to know how your experience was.\"\nhuman: \"It was okay. Nothing too great. Nothing too bad.\"\nassistant: \"Appreciate that. And just to get a clearer picture, on a scale of 0 to 10, where 0 is not at all likely, and 10 is extremely likely, how likely are you to recommend garage\"\nhuman: \"It's nothing too great, nothing too bad.\"\n**Tags:** `Enhance Customer Experience, Increase Service Transparency`\n\n**Output:**\n\n```json\n{{\n  \"call_summary\": \"Customer felt the engine diagnosis service was average.\",\n  \"nps_score\": 5,\n  \"overall_feedback\": \"Customer expressed neutral sentiment about the service, indicating neither satisfaction nor dissatisfaction with the diagnostic quality or process.\",\n  \"positive_mentions\": [],\n  \"detractors\": [\"Enhance Customer Experience\", \"Increase Service Transparency\"]\n}}\n```\n\n### Example E:\n\n**Transcript:**\nassistant: \"Great. Just wanted to check was the entire service experience for you at Garage 25?\"\nhuman: \"Less Okeesh.\"\nassistant: \"Thank you for being honest. Could you share a bit more about what made the experience less okay? Was it related to timeliness, pricing, quality of work, communication, or or or something else?\"\nhuman: \"The pricing as well as the bulk of your work.\"\nassistant: \"I appreciate your feedback. To get a clearer picture, a scale of 0 to 10, where 0 is not at all likely, and 10 is extremely likely.\"\nhuman: \"I'll do it at 3.\"\n**Tags:** `Increase Service Transparency, Enhance Customer Experience, Improve Advisor Communication`\n\n**Output:**\n\n```json\n{{\n  \"call_summary\": \"Customer was dissatisfied with both pricing and quality of work.\",\n  \"nps_score\": 3,\n  \"overall_feedback\": \"Customer expressed significant concerns about value for money and workmanship quality, indicating a negative service experience.\",\n  \"positive_mentions\": [],\n  \"detractors\": [\"Increase Service Transparency\", \"Enhance Customer Experience\", \"Improve Advisor Communication\"]\n}}\n```\n\n### Example F:\n\n**Transcript:**\nassistant: \"Great. I just wanted to check how was the entire service experience for you?\"\nhuman: \"You mean the service experience that I had, I your service station that is?\"\nassistant: \"Exactly. I'm referring to the service experience at our station for your recent oil change. How did everything go for you?\"\nhuman: \"It went very well.\"\nassistant: \"So nice to hear. Thanks for sharing that. Just 1 last question. On a scale of 0 to 10, where 0 is not at all likely, and 10 is extremely likely, how likely are you to recommend Garage 25 to a friend or colleague\"\nhuman: \"Maybe a 9\"\nassistant: \"Thanks so much for that. Glad to know you had a great experience. Could you tell me what stood out for you? Was it efficiency? Friendliness, satisfaction, or something else?\"\nhuman: \"The timeliness I got the car right on time, so the timeliness.\"\n**Tags:** `Reduce Wait Time, Enhance Customer Experience, Streamline Booking Process`\n\n**Output:**\n\n```json\n{{\n  \"call_summary\": \"Customer had an excellent experience with emphasis on timely service completion.\",\n  \"nps_score\": 9,\n  \"overall_feedback\": \"Customer was very satisfied with the service, particularly highlighting the punctual delivery of the vehicle which exceeded expectations.\",\n  \"positive_mentions\": [\"Reduce Wait Time\", \"Enhance Customer Experience\"],\n  \"detractors\": [\"Streamline Booking Process\"]\n}}\n```\n\n### Example G:\n\n**Transcript:**\nassistant: \"Great. Just wanted to check how was the entire service experience for you?\"\nhuman: \"It was okay.\"\nassistant: \"Appreciate that. And just to get a clearer picture, a scale of 0 to 10, where 0 is not at all likely and 10 is extremely likely, how likely are you to recommend garage 25 to a friend or colleague?\"\nhuman: \"6\"\nassistant: \"Thanks for being honest. Can you share what went wrong? Or what could have been better? Like, timeliness, pricing transparency, quality of work, staff professionalism,\"\n**Tags:** `Enhance Customer Experience, Increase Service Transparency, Reduce Wait Time`\n\n**Output:**\n\n```json\n{{\n  \"call_summary\": \"Customer found the service experience to be mediocre.\",\n  \"nps_score\": 6,\n  \"overall_feedback\": \"Customer expressed moderate satisfaction but indicated room for improvement in the overall service experience.\",\n  \"positive_mentions\": [],\n  \"detractors\": [\"Enhance Customer Experience\", \"Increase Service Transparency\", \"Reduce Wait Time\"]\n}}\n```\n\n### Example H:\n\n**Transcript:**\nassistant: \"great. Just wanted to check how was the entire service experience for you?\"\nhuman: \"Oh, it was amazing. The staff was on Boeing.\"\nassistant: \"That's fantastic to hear. Thanks for sharing that.\"\nhuman: \"Yeah.\"\nassistant: \"Always nice to hear. Just 1 last question. On a scale of 0 to 10, where 0 got it. Thank you for your feedback.\"\nhuman: \"7.\"\nassistant: \"What could have made your experience a 10?\"\nhuman: \"Timeliness, maybe some customer experience, and pricing.\"\n**Tags:** `Reduce Wait Time, Enhance Customer Experience, Increase Service Transparency, Improve Advisor Communication`\n\n**Output:**\n\n```json\n{{\n  \"call_summary\": \"Customer praised staff but identified three areas for service improvement.\",\n  \"nps_score\": 7,\n  \"overall_feedback\": \"Customer appreciated the staff interaction but felt improvements were needed in timeliness, overall experience, and pricing transparency.\",\n  \"positive_mentions\": [\"Improve Advisor Communication\"],\n  \"detractors\": [\"Reduce Wait Time\", \"Enhance Customer Experience\", \"Increase Service Transparency\"]\n}}\n```\n\n### Example I:\n\n**Transcript:**\nassistant: \"Thank you. I'm calling to get your feedback on your recent oil change service with us. Just wanted to check how was the entire service experience for you?\"\nhuman: \"Be honest, I'm really like, I have doubts that did you really change the oil?\"\nassistant: \"Really sorry to hear that you're feeling this way. Can you tell me what specifically led you to to doubt it? Was there any particular issue or concern?\"\nhuman: \"I'm not seeing any improvements in the driving experience. I'm still seeing some, I know, grinding noise from the engine. I have issue.\"\nassistant: \"Thank you for sharing that. I understand how concerning that must be,\"\nassistant: \"especially after an oil change. That grinding noise\"\nassistant: \"isn't what you'd expect. On a scale of 0 to 10, how likely are you to recommend garage 25 to a friend or colleague considering this experience?\"\nhuman: \"I recommend it. I will give it a 2 or a 1.\"\n**Tags:** `Increase Service Transparency, Enhance Customer Experience, Improve Advisor Communication`\n\n**Output:**\n\n```json\n{{\n  \"call_summary\": \"Customer expressed serious doubts about service completion due to persistent engine noise.\",\n  \"nps_score\": 1,\n  \"overall_feedback\": \"Customer was highly dissatisfied and suspicious that the oil change wasn't properly performed due to continued driving issues and lack of explanation.\",\n  \"positive_mentions\": [],\n  \"detractors\": [\"Increase Service Transparency\", \"Enhance Customer Experience\", \"Improve Advisor Communication\"]\n}}\n```\n\n### Example J:\n\n**Transcript:**\nassistant: \"Thanks. Great. Thank you. Just wanted to check. How was the entire service experience for you.\"\nhuman: \"Yeah. Quite good.\"\nassistant: \"That's wonderful to hear. Thank you for sharing that with me. Just 1 last question. On a scale of 0 to 10, where 0 is not at all likely and 10 is extremely likely, How likely are you to recommend garage 25 to a friend or colleague?\"\nhuman: \"Say 8\"\nassistant: \"Appreciate that, Richard. What could we have done to improve your score to a perfect 10?\"\nhuman: \"Give me a cheaper price.\"\n**Tags:** `Increase Service Transparency, Enhance Customer Experience, Improve Advisor Communication`\n\n**Output:**\n\n```json\n{{\n  \"call_summary\": \"Customer had a positive experience but noted pricing concerns affected their recommendation score.\",\n  \"nps_score\": 8,\n  \"overall_feedback\": \"Customer was generally satisfied with the service but felt the pricing was too high, suggesting a need for better value or pricing transparency.\",\n  \"positive_mentions\": [\"Enhance Customer Experience\", \"Improve Advisor Communication\"],\n  \"detractors\": [\"Increase Service Transparency\"]\n}}\n```\n\n---\n\n## --- JSON OUTPUT SCHEMA ---\n\nRespond with a valid JSON object that follows this structure:\n\n```json\n{{\n  \"call_summary\": \"string (max 1 sentence)\",\n  \"nps_score\": \"integer or null\",\n  \"overall_feedback\": \"string (1–2 lines)\",\n  \"positive_mentions\": [\"list of tags\"],\n  \"detractors\": [\"list of tags\"]\n}}\n```\n\n---\n\n**Response Format:**\nFormat your analysis as valid JSON following the exact schema provided above.\n\n"
    },
    "2": {
      "name": "Concise - Quick Analysis",
      "description": "Streamlined version with minimal formatting for faster processing",
      "template": "You are an AI assistant specialized in analyzing customer service call transcripts. Extract key insights and sentiment from the conversation in JSON format.\n\n## Input Data:\n\n**Call Transcript:**\n```\n{formatted_transcript}\n```\n\n**Service Record:**\n```json\n{service_record_json}\n```\n\n**Organization:**\n```json\n{organization_json}\n```\n\n**Focus Tags:** {formatted_tags}\n\n## Analysis Task:\n\n1. Summarize the call in one sentence\n2. Rate NPS score (0-10) if mentioned, otherwise null\n3. Describe overall customer feedback\n4. Categorize focus tags as positive mentions or detractors\n\n## Output Format:\n\n```json\n{{\n  \"call_summary\": \"string\",\n  \"nps_score\": \"integer or null\",\n  \"overall_feedback\": \"string\",\n  \"positive_mentions\": [\"array of tags\"],\n  \"detractors\": [\"array of tags\"]\n}}\n```\n\nRespond only with valid JSON matching this exact structure."
    },
    "3": {
      "name": "Detailed - Expert Analysis",
      "description": "Expert-level prompt with extensive analytical framework for thorough analysis",
      "template": "You are an expert customer experience analyst specializing in automotive service call analysis. Your role is to extract detailed insights from customer conversations to help improve service quality.\n\n## Context Information\n\n**Customer Conversation Transcript:**\n```\n{formatted_transcript}\n```\n\n**Service Record Details:**\n```json\n{service_record_json}\n```\n\n**Organization Profile:**\n```json\n{organization_json}\n```\n\n**Key Performance Areas to Evaluate:** {formatted_tags}\n\n## Analytical Framework\n\n### Step 1: Conversation Summary\nCreate a comprehensive one-sentence summary capturing the customer's primary concern, resolution status, and final sentiment.\n\n### Step 2: Net Promoter Score Assessment\n- Extract explicit NPS scores (0-10) if customer provides them\n- For implicit sentiment, map to NPS ranges:\n  - Promoters (9-10): Highly satisfied, enthusiastic language\n  - Passives (7-8): Satisfied but with reservations\n  - Detractors (0-6): Dissatisfied, frustrated, or neutral\n- Return null if sentiment is unclear or contradictory\n\n### Step 3: Overall Experience Analysis\nProvide a 1-2 sentence analysis of the customer's overall experience, including emotional tone, satisfaction level, and any notable concerns or praise.\n\n### Step 4: Performance Tag Classification\nFor each focus tag, determine:\n- **Positive Mentions**: Tags where customer expressed satisfaction, praise, or positive feedback\n- **Detractors**: Tags where customer expressed dissatisfaction, concerns, or negative feedback\n- Exclude tags not mentioned or with ambiguous sentiment\n\n### Reference Examples:\n\n**High Satisfaction Example:**\nCustomer mentions quick service, helpful staff, fair pricing\n→ NPS: 9-10, Positive: [\"timeliness\", \"customer service\", \"pricing\"]\n\n**Mixed Experience Example:**\nCustomer praises technician skill but complains about wait time\n→ NPS: 6-7, Positive: [\"expertise\"], Detractors: [\"wait time\"]\n\n**Poor Experience Example:**\nCustomer frustrated with delays and lack of communication\n→ NPS: 0-3, Detractors: [\"timeliness\", \"communication\"]\n\n## Required JSON Output Structure:\n\n```json\n{{\n  \"call_summary\": \"Detailed one-sentence summary of the call outcome and customer sentiment\",\n  \"nps_score\": \"Integer 0-10 or null if unclear\",\n  \"overall_feedback\": \"1-2 sentence analysis of customer experience and emotional tone\",\n  \"positive_mentions\": [\"List of positively mentioned focus tags\"],\n  \"detractors\": [\"List of negatively mentioned focus tags\"]\n}}\n```\n\nEnsure your response is valid JSON that strictly follows this schema."
    },
    "4": {
      "name": "Old Prompt",
      "description": "Previous prompt format with step-by-step reasoning and examples",
      "template": "## --- ROLE ---\nYou are an expert conversation analyzer. Always respond with valid JSON matching exactly the schema given—no extra text or metadata.\n\n## --- INPUT — TRANSCRIPT & CONTEXT —\nCall Transcript:\n{formatted_transcript}\n\nService Record Info:\n```json\n{service_record_json}\n```\n\nOrganization Info:\n```json\n{organization_json}\n```\n\nFocus Tags: {formatted_tags}\n\n## --- TASK INSTRUCTIONS — STEP-BY-STEP —\nFollow this reasoning internally and make your final JSON concise and strict:\n\n**Step 1 - Summarize call outcome in one sentence.**\n\n**Step 2 - Locate an NPS score (0-10):**\n- If a number in that range is uttered explicitly (\"NPS: 8\", \"I'd give you a 9\"), record that.\n- If phrased indirectly (\"That's top-tier service\") interpret to the most appropriate numeric equivalent (e.g. 9-10), but only if clearly implied.\n- If unclear or not stated, set to `null`.\n\n**Step 3 - Overall feedback:** Write 1-2 sentences reflecting customer sentiment.\n\n**Step 4 - For each focus tag:**\n- If mentioned positively (praise, enjoyment, satisfaction), include in `positive_mentions`.\n- If mentioned negatively (issue, complaint, dissatisfaction), include in `detractors`.\n- If not clearly mentioned, exclude.\n\n### Few-Shot Examples:\n\n--Example A--\nTranscript:\nCustomer: \"I'd say my experience was a 9 — amazing service.\"\nTags: \"timeliness, cleanliness, communication\"\n\nOutput:\n{{\n\"call_summary\": \"Customer gave exceptionally positive feedback.\",\n\"nps_score\": 9,\n\"overall_feedback\": \"Customer rated the experience very highly and expressed satisfaction across all areas.\",\n\"positive_mentions\": [\"timeliness\",\"communication\"],\n\"detractors\": []\n}}\n\n--Example B--\nTranscript:\nCustomer: \"Honestly it was okay, nothing stood out, but the pickup was late.\"\nTags: \"timeliness, professionalism, value\"\n\nOutput:\n{{\n\"call_summary\": \"Customer had mixed feelings, noting a delay in pickup.\",\n\"nps_score\": null,\n\"overall_feedback\": \"Customer felt neutral overall but was disappointed by the pickup delay.\",\n\"positive_mentions\": [],\n\"detractors\": [\"timeliness\"]\n}}\n\n## --- OUTPUT SCHEMA ---\n{{\n  \"call_summary\": \"string\",\n  \"nps_score\": \"integer or null\",\n  \"overall_feedback\": \"string\",\n  \"positive_mentions\": [\"array of tags\"],\n  \"detractors\": [\"array of tags\"]\n}}\n\nRespond with only the valid JSON object."
    }
  },
  "default_version": 1,
  "metadata": {
    "created": "2025-08-07",
    "last_updated": "2025-08-07",
    "author": "AnyLLM Service",
    "notes": "Prompt templates for call transcript analysis with multiple complexity levels"
  }
}
